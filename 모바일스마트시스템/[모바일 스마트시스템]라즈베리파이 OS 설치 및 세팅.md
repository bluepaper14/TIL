# [모바일 스마트시스템]라즈베리파이 OS 설치 및 세팅

라즈베리 키트 내의 SD카드의 OS 설치 전반의 이야기다. 이를 세팅하기까지 수강생의 절반이 헤메는 걸 보고 경악했다. 앞으로 그러지 않도록 이 내용을 작성한다. 간단하게 핵심만 짚고 넘어간다.

먼저 키드를 실행시키기 위해서는 2가지 프로그램을 준비해야한다.

1. Raspberry Pi Imager - 설치 설정 안내 프로그램
2. Raspberry Pi OS Legacy 64비트 - 운영체제

키드마다 버전에 맞게 레거시를 다운 받았다.(글쓴이는 라즈베리4로 기억)

---

SD카드를 리더기와 합쳐 pc와 연결한다.
이후 imager를 열게되면 **장치**와 **OS 저장소**를 선택할 수 있다.

각자 알맞게 옵션을 선택하면 되는데, 만약 누군가 이미 사용한 SD카드라면 OS가 이미 설치된 상태에서 또 다시 설치하게되면 꼬일 수 있다. 그렇기에 운영체제에서 SD카드를 Erase한 다음 해당 OS에 맞게 설치하면 된다.

---
이후 OS 설정을 만진다.
 
 - hostname 설정
 - 비밀번호 설정
 - 우선 LAN 설정
 - 로케일 설정
 - SSH 사용 설정
 
 전부 세팅해줘야한다.(세팅은 생략합니다)
 특히 제일 중요한 설정은 이름이다. -> 이후 터미널에서 처음 MAC주소 찾을때 사용
 
---
 
이후 이제 cmd 창을 켜서 연결하면되는데 여기서 ip개념이 정말 중요하다.
일단 우리가 라즈베리파이 os 설정을 할때 와이파이를 잡고 설정했는데,
이것은 다른 와이파이를 잡을때도 계속 리더기에 연결시켜 바꿔줘야한다.
(만에하나 ip가 달라지는 경우를 대비해서)

즉, 노트북과 라즈베리파이의 통신이 같아야한다는 점이다.
일단 cmd 창을 띄우고 이렇게 명령어를 작성한다
```
ssh pi@ 당신이 설정한 아이디.local
```

이후 로그인 비밀번호를 입력하면 라즈베리 파이와 cmd가 잡힌 것이다.
만약, 잡히지 않는다면 고려해야할 사항이 있다.

1.통신을 동일하게 잡았는가?(초기 설정WIFI + 현재pc에 연결한 WIFI)

2.초기설정이 잘못되었는가?(대부분 여기서 이상하게 설정한거임)

끝내 해결되지 않으면 아까처럼 SD카드의 데이터를 전부 지우고 다시 시작하면된다.
또한 여러 설정을 변경하다가 SSH호스트키 변경에 문제가 생겼다면
cmd 창에 이렇게 입력해준다.
```
ssh-keygen -R 192.168.0.19
```
이후 새로운 호스트 키를 수동으로 추가할때 이 명령어를 입력한다.
```
ssh 192.168.0.19

```
---

이후 연결된다면 MAC주소를 확인을 위해
다음 명령어를 친다
```
ip addr
```

이렇게 작성하게되면 각 종류별 통신에 대한 여부가 나타나게 된다.

1.lo - 로컬 인터넷(WIFI) -> 자기 자신과 통신
2.etho - 유선 네트워크 서비스
3.wlan0 - 무선 네트워크 서비스

여기서 2번을 보게되면 MAC주소가 있다. 이 MAC 주소를 꼭 기억하자 왜냐하면 MAC주소는 간단하게 말하면, 고유번호 같은 개념이다. 라즈베리 1000개가 있다면 각 MAC주소는 전부 다르다. 우리가 왜 MAC주소를 알아야 하면 라즈베리와 pc를 연결할때 ip는 계속해서 바뀌게 된다. 그렇기 때문에 고유번호인 MAC주소를 ip scanner를 통해 해당 ip를 알아낸 다음 그 ip로 접속해야 연결된다.

글쓴이도 헤멘 이유는 계속해서 pc에 대한 ip와 mac주소를 입력하는 바람에 연결이 되지 않았다. **라즈베리와 pc의 mac ip주소는 별개다.**

OS 설치할때 WIFI 설정은 계속해서 WIFI가 달라지면 또다시 리더기를 연결해 값을 바꿔야한다.(이 방법이 귀찮으면 터미널에서도 바로잡기 가능)

이후 라즈베리파이ip를 가지고 입력한다
_ssh는 원격연결을 의미_
```
ssh pi@아이피주소
```
결과적으로 원할하게 연결이 된다면, 이런 cmd창이 나온다.

![](https://velog.velcdn.com/images/bluepaper14/post/962dbd63-7fca-4a22-b502-e3a88fce8a92/image.png)







 
 
